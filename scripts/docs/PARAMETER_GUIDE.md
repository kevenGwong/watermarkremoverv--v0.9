# ğŸ”§ Advanced Parameter Guide
## AI Watermark Remover Pro - é«˜çº§å‚æ•°è¯¦è§£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜AI Watermark Remover Proç‰ˆæœ¬ä¸­æ‰€æœ‰å¯è‡ªå®šä¹‰å‚æ•°çš„ç”¨é€”ã€å–å€¼èŒƒå›´å’Œä½¿ç”¨å»ºè®®ã€‚

---

## ğŸ“‹ ç›®å½•

1. [ğŸ¯ Mask Generation Parameters](#mask-generation-parameters)
2. [ğŸ¨ LaMA Inpainting Parameters](#lama-inpainting-parameters)
3. [ğŸ–¼ï¸ Image Processing Parameters](#image-processing-parameters)
4. [ğŸ”§ Post Processing Parameters](#post-processing-parameters)
5. [âš¡ Performance Presets](#performance-presets)
6. [ğŸ’¡ Usage Tips](#usage-tips)

---

## ğŸ¯ Mask Generation Parameters

### Custom Model Parameters

#### `mask_threshold` (0.0 - 1.0)
**ç”¨é€”**: æ§åˆ¶è‡ªå®šä¹‰åˆ†å‰²æ¨¡å‹çš„äºŒå€¼åŒ–é˜ˆå€¼
- **é»˜è®¤å€¼**: 0.5
- **ä½å€¼ (0.1-0.4)**: æ›´æ•æ„Ÿï¼Œæ£€æµ‹æ›´å¤šåŒºåŸŸï¼ˆå¯èƒ½åŒ…å«å‡é˜³æ€§ï¼‰
- **ä¸­å€¼ (0.4-0.6)**: å¹³è¡¡å‡†ç¡®æ€§å’Œè¦†ç›–ç‡
- **é«˜å€¼ (0.6-0.9)**: æ›´ä¿å®ˆï¼Œåªæ£€æµ‹é«˜ç½®ä¿¡åº¦åŒºåŸŸï¼ˆå¯èƒ½é—æ¼éƒ¨åˆ†æ°´å°ï¼‰

**ä½¿ç”¨å»ºè®®**:
- æ¸…æ™°æ°´å°: 0.5-0.7
- æ¨¡ç³Šæ°´å°: 0.3-0.5
- å¤æ‚èƒŒæ™¯: 0.6-0.8

#### `mask_dilate_kernel_size` (1 - 15, å¥‡æ•°)
**ç”¨é€”**: æ§åˆ¶å½¢æ€å­¦è†¨èƒ€æ“ä½œçš„æ ¸å¤§å°ï¼Œæ‰©å±•æ£€æµ‹åŒºåŸŸ
- **é»˜è®¤å€¼**: 3
- **å°å€¼ (1-3)**: ç²¾ç¡®è¾¹ç•Œï¼Œé€‚åˆæ¸…æ™°è¾¹ç•Œçš„æ°´å°
- **ä¸­å€¼ (5-7)**: é€‚åˆä¸€èˆ¬æƒ…å†µ
- **å¤§å€¼ (9-15)**: å¤§å¹…æ‰©å±•ï¼Œé€‚åˆæ¨¡ç³Šæˆ–éœ€è¦å®Œå…¨è¦†ç›–çš„æƒ…å†µ

**ä½¿ç”¨å»ºè®®**:
- æ–‡å­—æ°´å°: 3-5
- å›¾å½¢æ°´å°: 5-7
- å¤æ‚å½¢çŠ¶: 7-11

#### `mask_dilate_iterations` (1 - 5)
**ç”¨é€”**: è†¨èƒ€æ“ä½œçš„è¿­ä»£æ¬¡æ•°
- **é»˜è®¤å€¼**: 1
- **1æ¬¡**: è½»å¾®æ‰©å±•
- **2-3æ¬¡**: é€‚åº¦æ‰©å±•
- **4-5æ¬¡**: æ˜¾è‘—æ‰©å±•è¦†ç›–èŒƒå›´

### Florence-2 Parameters

#### `detection_prompt` (å­—ç¬¦ä¸²)
**ç”¨é€”**: æŒ‡å®šFlorence-2æ£€æµ‹çš„ç›®æ ‡ç±»å‹
- **é»˜è®¤å€¼**: "watermark"
- **é¢„è®¾é€‰é¡¹**:
  - `"watermark"`: é€šç”¨æ°´å°æ£€æµ‹
  - `"logo"`: æ ‡å¿—/å¾½æ ‡æ£€æµ‹
  - `"text overlay"`: æ–‡å­—å åŠ æ£€æµ‹
  - `"signature"`: ç­¾åæ£€æµ‹
  - `"copyright mark"`: ç‰ˆæƒæ ‡è¯†
  - `"brand mark"`: å“ç‰Œæ ‡è¯†

**è‡ªå®šä¹‰Promptæ ¼å¼**:
- ç®€å•æè¿°: `"company logo"`
- å…·ä½“æè¿°: `"red circular watermark"`
- å¤šç›®æ ‡: `"watermark or logo"`

**ä½¿ç”¨å»ºè®®**:
- æ ¹æ®å®é™…æ°´å°ç±»å‹é€‰æ‹©æœ€åŒ¹é…çš„æè¿°
- å¯ä»¥ä½¿ç”¨æ›´å…·ä½“çš„æè¿°æ¥æé«˜å‡†ç¡®æ€§
- é¿å…è¿‡äºå¤æ‚çš„æè¿°

#### `max_bbox_percent` (1.0 - 50.0)
**ç”¨é€”**: é™åˆ¶æ£€æµ‹è¾¹ç•Œæ¡†å å›¾åƒçš„æœ€å¤§ç™¾åˆ†æ¯”
- **é»˜è®¤å€¼**: 10.0%
- **ä½å€¼ (1-5%)**: åªæ£€æµ‹å°å‹æ°´å°
- **ä¸­å€¼ (10-20%)**: é€‚åˆä¸€èˆ¬æ°´å°
- **é«˜å€¼ (30-50%)**: å…è®¸æ£€æµ‹å¤§å‹æ°´å°æˆ–å¤šä¸ªæ°´å°

#### `confidence_threshold` (0.1 - 0.9)
**ç”¨é€”**: Florence-2æ£€æµ‹çš„ç½®ä¿¡åº¦é˜ˆå€¼
- **é»˜è®¤å€¼**: 0.3
- **ä½å€¼ (0.1-0.3)**: æ›´æ¿€è¿›ï¼Œå¯èƒ½æ£€æµ‹åˆ°æ›´å¤šç›®æ ‡
- **é«˜å€¼ (0.5-0.9)**: æ›´ä¿å®ˆï¼Œåªæ£€æµ‹é«˜ç½®ä¿¡åº¦ç›®æ ‡

---

## ğŸ¨ LaMA Inpainting Parameters

### Core Processing Parameters

#### `ldm_steps` (10 - 200)
**ç”¨é€”**: æ‰©æ•£æ¨¡å‹çš„å»å™ªæ­¥æ•°ï¼Œç›´æ¥å½±å“ä¿®å¤è´¨é‡å’Œå¤„ç†æ—¶é—´
- **é»˜è®¤å€¼**: 50
- **å¿«é€Ÿ (10-30)**: é€‚åˆé¢„è§ˆæˆ–æ‰¹é‡å¤„ç†
- **å¹³è¡¡ (40-80)**: æ¨èæ—¥å¸¸ä½¿ç”¨
- **é«˜è´¨é‡ (80-150)**: é€‚åˆé‡è¦å›¾ç‰‡
- **æè‡´ (150-200)**: ä¸“ä¸šéœ€æ±‚ï¼Œå¤„ç†æ—¶é—´è¾ƒé•¿

**è´¨é‡vsé€Ÿåº¦å¯¹æ¯”**:
- 20 steps: ~10ç§’ï¼ŒåŸºç¡€è´¨é‡
- 50 steps: ~25ç§’ï¼Œè‰¯å¥½è´¨é‡
- 100 steps: ~50ç§’ï¼Œé«˜è´¨é‡
- 200 steps: ~100ç§’ï¼Œæè‡´è´¨é‡

#### `ldm_sampler` (å­—ç¬¦ä¸²)
**ç”¨é€”**: é€‰æ‹©æ‰©æ•£æ¨¡å‹çš„é‡‡æ ·ç®—æ³•
- **é»˜è®¤å€¼**: "ddim"
- **é€‰é¡¹**:
  - `"ddim"`: ç¡®å®šæ€§é‡‡æ ·ï¼Œç»“æœç¨³å®šä¸€è‡´
  - `"plms"`: æ›´å¿«çš„æ”¶æ•›é€Ÿåº¦
  - `"dpm_solver++"`: é«˜è´¨é‡é‡‡æ ·ï¼Œé€‚åˆä¸“ä¸šéœ€æ±‚

**ä½¿ç”¨å»ºè®®**:
- ç¨³å®šæ€§ä¼˜å…ˆ: ddim
- é€Ÿåº¦ä¼˜å…ˆ: plms
- è´¨é‡ä¼˜å…ˆ: dpm_solver++

### High Resolution Strategy

#### `hd_strategy` (å­—ç¬¦ä¸²)
**ç”¨é€”**: å¤„ç†é«˜åˆ†è¾¨ç‡å›¾åƒçš„ç­–ç•¥
- **é»˜è®¤å€¼**: "CROP"
- **é€‰é¡¹**:
  - `"CROP"`: åˆ†å—å¤„ç†ï¼Œä¿æŒæœ€é«˜ç»†èŠ‚
  - `"RESIZE"`: ç¼©æ”¾å¤„ç†ï¼Œé€Ÿåº¦æ›´å¿«
  - `"ORIGINAL"`: åŸå°ºå¯¸å¤„ç†ï¼ˆéœ€è¦å¤§é‡å†…å­˜ï¼‰

**ä½¿ç”¨å»ºè®®**:
- é«˜è´¨é‡éœ€æ±‚: CROP
- é€Ÿåº¦ä¼˜å…ˆ: RESIZE
- å°å›¾åƒ(<1024px): ORIGINAL

#### `hd_strategy_crop_margin` (32 - 256)
**ç”¨é€”**: åˆ†å—å¤„ç†æ—¶çš„é‡å è¾¹è·
- **é»˜è®¤å€¼**: 64
- **å°å€¼ (32-48)**: è¾ƒå°‘é‡å ï¼Œå¯èƒ½æœ‰è¾¹ç•Œç—•è¿¹
- **å¤§å€¼ (128-256)**: æ›´å¤šé‡å ï¼Œè¾¹ç•Œæ›´è‡ªç„¶

#### `hd_strategy_crop_trigger_size` (512 - 2048)
**ç”¨é€”**: è§¦å‘åˆ†å—å¤„ç†çš„å›¾åƒå°ºå¯¸é˜ˆå€¼
- **é»˜è®¤å€¼**: 800
- **è¾ƒå°å€¼**: æ›´æ—©è§¦å‘åˆ†å—ï¼Œé€‚åˆå†…å­˜å—é™ç¯å¢ƒ
- **è¾ƒå¤§å€¼**: æ›´æ™šè§¦å‘åˆ†å—ï¼Œé€‚åˆé«˜å†…å­˜ç¯å¢ƒ

#### `hd_strategy_resize_limit` (1024 - 4096)
**ç”¨é€”**: RESIZEç­–ç•¥ä¸‹çš„æœ€å¤§å¤„ç†å°ºå¯¸
- **é»˜è®¤å€¼**: 1600
- **1024**: å¿«é€Ÿå¤„ç†
- **2048**: å¹³è¡¡è´¨é‡å’Œé€Ÿåº¦
- **4096**: æœ€é«˜è´¨é‡

---

## ğŸ–¼ï¸ Image Processing Parameters

### Preprocessing Parameters

#### `max_input_size` (512 - 4096)
**ç”¨é€”**: è¾“å…¥å›¾åƒçš„æœ€å¤§å°ºå¯¸é™åˆ¶
- **é»˜è®¤å€¼**: 2048
- **ç”¨é€”**: æ§åˆ¶å¤„ç†å¤æ‚åº¦å’Œå†…å­˜ä½¿ç”¨

#### `gamma_correction` (0.5 - 2.0)
**ç”¨é€”**: Gammaæ ¡æ­£ï¼Œè°ƒæ•´å›¾åƒäº®åº¦æ›²çº¿
- **é»˜è®¤å€¼**: 1.0 (æ— æ ¡æ­£)
- **<1.0**: å¢å¼ºæš—éƒ¨ç»†èŠ‚
- **>1.0**: å¢å¼ºäº®éƒ¨ç»†èŠ‚

#### `contrast_enhancement` (0.5 - 2.0)
**ç”¨é€”**: å¯¹æ¯”åº¦å¢å¼º
- **é»˜è®¤å€¼**: 1.0 (æ— å¢å¼º)
- **>1.0**: å¢å¼ºå¯¹æ¯”åº¦
- **<1.0**: é™ä½å¯¹æ¯”åº¦

---

## ğŸ”§ Post Processing Parameters

### Mask Refinement

#### `mask_blur_radius` (0 - 10)
**ç”¨é€”**: å¯¹ç”Ÿæˆçš„maskè¿›è¡Œé«˜æ–¯æ¨¡ç³Š
- **é»˜è®¤å€¼**: 0 (æ— æ¨¡ç³Š)
- **ç”¨é€”**: è½¯åŒ–maskè¾¹ç•Œï¼Œåˆ›å»ºæ›´è‡ªç„¶çš„è¿‡æ¸¡

#### `mask_feather_size` (0 - 20)
**ç”¨é€”**: maskç¾½åŒ–å¤§å°ï¼Œåˆ›å»ºæ¸å˜è¾¹ç•Œ
- **é»˜è®¤å€¼**: 0 (æ— ç¾½åŒ–)
- **ç”¨é€”**: ä½¿ä¿®å¤åŒºåŸŸè¾¹ç•Œæ›´è‡ªç„¶

#### `mask_erosion_size` (-10 åˆ° 10)
**ç”¨é€”**: å½¢æ€å­¦è…èš€/è†¨èƒ€æ“ä½œ
- **é»˜è®¤å€¼**: 0
- **è´Ÿå€¼**: è…èš€ï¼Œæ”¶ç¼©maskåŒºåŸŸ
- **æ­£å€¼**: è†¨èƒ€ï¼Œæ‰©å±•maskåŒºåŸŸ

### Result Enhancement

#### `output_sharpening` (0.0 - 2.0)
**ç”¨é€”**: è¾“å‡ºç»“æœé”åŒ–
- **é»˜è®¤å€¼**: 0.0 (æ— é”åŒ–)
- **é€‚åº¦ (0.1-0.5)**: å¢å¼ºç»†èŠ‚
- **è¿‡åº¦ (>1.0)**: å¯èƒ½äº§ç”Ÿä¼ªå½±

#### `output_denoising` (0.0 - 1.0)
**ç”¨é€”**: è¾“å‡ºç»“æœé™å™ª
- **é»˜è®¤å€¼**: 0.0 (æ— é™å™ª)
- **è½»å¾® (0.1-0.3)**: å‡å°‘ç»†å¾®å™ªç‚¹
- **å¼ºçƒˆ (>0.5)**: å¯èƒ½æŸå¤±ç»†èŠ‚

---

## âš¡ Performance Presets

### Fast Preset - å¿«é€Ÿå¤„ç†
```yaml
ldm_steps: 20
hd_strategy_resize_limit: 1024
mask_dilate_kernel_size: 1
```
- **ç”¨é€”**: å¿«é€Ÿé¢„è§ˆã€æ‰¹é‡å¤„ç†
- **å¤„ç†æ—¶é—´**: ~10-15ç§’
- **è´¨é‡**: åŸºç¡€

### Balanced Preset - å¹³è¡¡å¤„ç†
```yaml
ldm_steps: 50
hd_strategy_resize_limit: 1600
mask_dilate_kernel_size: 3
```
- **ç”¨é€”**: æ—¥å¸¸ä½¿ç”¨æ¨èè®¾ç½®
- **å¤„ç†æ—¶é—´**: ~25-35ç§’
- **è´¨é‡**: è‰¯å¥½

### Quality Preset - é«˜è´¨é‡å¤„ç†
```yaml
ldm_steps: 100
hd_strategy_resize_limit: 2048
mask_dilate_kernel_size: 5
```
- **ç”¨é€”**: é‡è¦å›¾ç‰‡ã€ä¸“ä¸šéœ€æ±‚
- **å¤„ç†æ—¶é—´**: ~50-70ç§’
- **è´¨é‡**: é«˜

### Ultra Preset - æè‡´è´¨é‡
```yaml
ldm_steps: 200
hd_strategy_resize_limit: 4096
mask_dilate_kernel_size: 7
```
- **ç”¨é€”**: ä¸“ä¸šéœ€æ±‚ã€æè‡´è´¨é‡
- **å¤„ç†æ—¶é—´**: ~100-150ç§’
- **è´¨é‡**: æè‡´

---

## ğŸ’¡ Usage Tips

### ğŸ¯ é’ˆå¯¹ä¸åŒæ°´å°ç±»å‹çš„å»ºè®®è®¾ç½®

#### æ–‡å­—æ°´å°
```yaml
mask_threshold: 0.6
mask_dilate_kernel_size: 3
detection_prompt: "text overlay"
ldm_steps: 50
```

#### é€æ˜LOGO
```yaml
mask_threshold: 0.4
mask_dilate_kernel_size: 5
detection_prompt: "logo"
mask_blur_radius: 1
```

#### å¤æ‚å›¾å½¢æ°´å°
```yaml
mask_threshold: 0.5
mask_dilate_kernel_size: 7
detection_prompt: "watermark"
ldm_steps: 100
hd_strategy: "CROP"
```

#### å¤šä¸ªå°æ°´å°
```yaml
max_bbox_percent: 5.0
confidence_threshold: 0.2
mask_dilate_kernel_size: 3
```

### ğŸš€ æ€§èƒ½ä¼˜åŒ–å»ºè®®

#### å†…å­˜å—é™ç¯å¢ƒ
```yaml
max_input_size: 1024
hd_strategy: "RESIZE"
hd_strategy_resize_limit: 1024
ldm_steps: 30
```

#### é«˜æ€§èƒ½ç¯å¢ƒ
```yaml
max_input_size: 4096
hd_strategy: "CROP"
hd_strategy_resize_limit: 4096
ldm_steps: 100
```

### ğŸ¨ è´¨é‡ä¼˜åŒ–å»ºè®®

#### è¾¹ç•Œä¼˜åŒ–
```yaml
mask_blur_radius: 1
mask_feather_size: 2
output_sharpening: 0.2
```

#### ç»†èŠ‚ä¿æŠ¤
```yaml
hd_strategy: "CROP"
hd_strategy_crop_margin: 128
output_sharpening: 0.1
output_denoising: 0.1
```

---

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ

1. **æ£€æµ‹ä¸åˆ°æ°´å°**
   - é™ä½ `mask_threshold`
   - è°ƒæ•´ `detection_prompt`
   - å¢åŠ  `max_bbox_percent`

2. **æ£€æµ‹èŒƒå›´è¿‡å¤§**
   - æé«˜ `mask_threshold`
   - å‡å° `mask_dilate_kernel_size`
   - é™ä½ `max_bbox_percent`

3. **ä¿®å¤æ•ˆæœä¸è‡ªç„¶**
   - å¢åŠ  `ldm_steps`
   - ä½¿ç”¨ `mask_blur_radius`
   - è°ƒæ•´ `hd_strategy`

4. **å¤„ç†é€Ÿåº¦å¤ªæ…¢**
   - ä½¿ç”¨Fasté¢„è®¾
   - é™ä½ `max_input_size`
   - é€‰æ‹© "RESIZE" ç­–ç•¥

5. **å†…å­˜ä¸è¶³**
   - é™ä½ `max_input_size`
   - ä½¿ç”¨ "RESIZE" ç­–ç•¥
   - å‡å°‘ `ldm_steps`

---

**æç¤º**: å»ºè®®ä»é¢„è®¾å¼€å§‹ï¼Œç„¶åæ ¹æ®å…·ä½“éœ€æ±‚å¾®è°ƒå‚æ•°ã€‚ä½¿ç”¨Debugæ¨¡å¼å¯ä»¥æŸ¥çœ‹ä¸­é—´ç»“æœï¼Œå¸®åŠ©ç†è§£å‚æ•°æ•ˆæœã€‚